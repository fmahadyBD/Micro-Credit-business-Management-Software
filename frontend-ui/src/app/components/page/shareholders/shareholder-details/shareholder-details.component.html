<main class="main-content" [class.collapsed]="isSidebarCollapsed">
  <div class="container-fluid mt-4">
    <div class="card shadow-sm">
      <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
        <h4 class="mb-0">
          <i class="fas fa-user-tie me-2"></i>
          Shareholder Details
        </h4>
        <div>
          <button class="btn btn-light text-primary me-2" (click)="editShareholder()">
            <i class="fas fa-edit me-1"></i> Edit
          </button>
          <button class="btn btn-light text-primary" (click)="goBack()">
            <i class="fas fa-arrow-left me-1"></i> Back
          </button>
        </div>
      </div>

      <div class="card-body">
        <!-- Loading State -->
        <div *ngIf="loading" class="text-center py-5">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <p class="mt-3">Loading shareholder details...</p>
        </div>

        <!-- Error State -->
        <div *ngIf="error && !loading" class="alert alert-danger">
          <i class="fas fa-exclamation-circle me-2"></i>{{ error }}
        </div>

        <!-- Shareholder Details -->
        <div *ngIf="!loading && shareholderDetails" class="row">
          <!-- Basic Information -->
          <div class="col-md-6">
            <div class="card mb-4">
              <div class="card-header bg-light">
                <h5 class="mb-0"><i class="fas fa-info-circle me-2"></i>Basic Information</h5>
              </div>
              <div class="card-body">
                <div class="row mb-3">
                  <div class="col-sm-4 fw-bold">Name:</div>
                  <div class="col-sm-8">{{ shareholderDetails.shareholder?.name }}</div>
                </div>
                <div class="row mb-3">
                  <div class="col-sm-4 fw-bold">Phone:</div>
                  <div class="col-sm-8">{{ shareholderDetails.shareholder?.phone || 'N/A' }}</div>
                </div>
                <div class="row mb-3">
                  <div class="col-sm-4 fw-bold">NID Card:</div>
                  <div class="col-sm-8">{{ shareholderDetails.shareholder?.nidCard || 'N/A' }}</div>
                </div>
                <div class="row mb-3">
                  <div class="col-sm-4 fw-bold">Nominee:</div>
                  <div class="col-sm-8">{{ shareholderDetails.shareholder?.nominee || 'N/A' }}</div>
                </div>
                <div class="row mb-3">
                  <div class="col-sm-4 fw-bold">Role:</div>
                  <div class="col-sm-8">{{ shareholderDetails.shareholder?.role || 'N/A' }}</div>
                </div>
                <div class="row mb-3">
                  <div class="col-sm-4 fw-bold">Status:</div>
                  <div class="col-sm-8">
                    <span [class]="getStatusClass(shareholderDetails.shareholder?.status)">
                      {{ shareholderDetails.shareholder?.status }}
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Address Information -->
          <div class="col-md-6">
            <div class="card mb-4">
              <div class="card-header bg-light">
                <h5 class="mb-0"><i class="fas fa-map-marker-alt me-2"></i>Address Information</h5>
              </div>
              <div class="card-body">
                <div class="row mb-3">
                  <div class="col-sm-4 fw-bold">District:</div>
                  <div class="col-sm-8">{{ shareholderDetails.shareholder?.zila || 'N/A' }}</div>
                </div>
                <div class="row mb-3">
                  <div class="col-sm-4 fw-bold">House:</div>
                  <div class="col-sm-8">{{ shareholderDetails.shareholder?.house || 'N/A' }}</div>
                </div>
                <div class="row mb-3">
                  <div class="col-sm-4 fw-bold">Join Date:</div>
                  <div class="col-sm-8">{{ formatDate(shareholderDetails.shareholder?.joinDate) }}</div>
                </div>
                <div class="row mb-3">
                  <div class="col-sm-4 fw-bold">Active Since:</div>
                  <div class="col-sm-8">{{ formatDate(shareholderDetails.activeSince) }}</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Financial Information -->
          <div class="col-12">
            <div class="card">
              <div class="card-header bg-light">
                <h5 class="mb-0"><i class="fas fa-chart-line me-2"></i>Financial Information</h5>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md-3 text-center mb-3">
                    <div class="border rounded p-3 bg-primary text-white">
                      <h6>Investment</h6>
                      <h4>{{ formatCurrency(shareholderDetails.investment) }}</h4>
                    </div>
                  </div>
                  <div class="col-md-3 text-center mb-3">
                    <div class="border rounded p-3 bg-success text-white">
                      <h6>Total Earnings</h6>
                      <h4>{{ formatCurrency(shareholderDetails.totalEarnings) }}</h4>
                    </div>
                  </div>
                  <div class="col-md-3 text-center mb-3">
                    <div class="border rounded p-3 bg-info text-white">
                      <h6>Current Balance</h6>
                      <h4>{{ formatCurrency(shareholderDetails.currentBalance) }}</h4>
                    </div>
                  </div>
                  <div class="col-md-3 text-center mb-3">
                    <div class="border rounded p-3 bg-warning text-white">
                      <h6>Total Value</h6>
                      <h4>{{ formatCurrency(shareholderDetails.totalValue) }}</h4>
                    </div>
                  </div>
                </div>
                <div class="row mt-3">
                  <div class="col-md-3 text-center">
                    <div class="border rounded p-3">
                      <h6>Total Shares</h6>
                      <h4>{{ shareholderDetails.totalShares || 0 }}</h4>
                    </div>
                  </div>
                  <div class="col-md-3 text-center">
                    <div class="border rounded p-3">
                      <h6>ROI</h6>
                      <h4 [class]="getROIClass()">
                        {{ formatROI() }}
                      </h4>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>