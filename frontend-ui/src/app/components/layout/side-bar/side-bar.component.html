<!-- Toggle Button (Mobile Only) -->
<button
  class="btn btn-primary d-md-none sidebar-toggle"
  (click)="toggleSidebar()"
>
  <i class="fas fa-bars"></i>
</button>

<!-- Sidebar Overlay -->
<div
  class="sidebar-overlay"
  (click)="closeSidebar()"
  [class.show]="sidebarOpen"
></div>

<!-- Sidebar -->
<nav class="sidebar" [class.show]="sidebarOpen" [class.collapsed]="collapsed">
  <div class="sidebar-header">
    <div class="sidebar-logo"><i class="fas fa-bolt"></i></div>
    <div class="sidebar-title">Micro</div>

    <!-- Close Button (Mobile Only) -->
    <button class="sidebar-close d-md-none" (click)="closeSidebar()">
      <i class="fas fa-times"></i>
    </button>
  </div>

  <ul class="sidebar-menu">
    <!-- Dashboard -->
    <li class="menu-item">
      <a
        href="#"
        class="menu-link"
        (click)="handleSubmenuClick($event, 'dashboard')"
      >
        <span class="menu-icon"><i class="fas fa-home"></i></span>
        <span class="menu-text">Dashboard</span>
      </a>
    </li>

    <!-- Update in side-bar.component.html -->
    <!-- Add this after the Agents section and before the Installment section -->

    <!-- ✅ Products -->
    <li class="menu-item">
      <a href="#" class="menu-link" (click)="toggleSubmenu($event, 6)">
        <span class="menu-icon"><i class="fas fa-box"></i></span>
        <span class="menu-text">Products</span>
        <span class="menu-arrow"
          ><i
            class="fas fa-chevron-right"
            [class.rotated]="activeSubmenu === 6"
          ></i
        ></span>
      </a>
      <ul class="submenu" [class.show]="activeSubmenu === 6">
        <li>
          <a
            href="#"
            class="submenu-link"
            (click)="handleSubmenuClick($event, 'all-products')"
            >All Products</a
          >
        </li>
        <li>
          <a
            href="#"
            class="submenu-link"
            (click)="handleSubmenuClick($event, 'add-product')"
            >Add Product</a
          >
        </li>
      </ul>
    </li>

    <!-- Users -->
    <li class="menu-item">
      <a href="#" class="menu-link" (click)="toggleSubmenu($event, 0)">
        <span class="menu-icon"><i class="fas fa-users"></i></span>
        <span class="menu-text">Users</span>
        <span class="menu-arrow"
          ><i
            class="fas fa-chevron-right"
            [class.rotated]="activeSubmenu === 0"
          ></i
        ></span>
      </a>
      <ul class="submenu" [class.show]="activeSubmenu === 0">
        <li>
          <a
            href="#"
            class="submenu-link"
            (click)="handleSubmenuClick($event, 'all-users')"
            >All Users</a
          >
        </li>
        <li>
          <a
            href="#"
            class="submenu-link"
            (click)="handleSubmenuClick($event, 'add-user')"
            >Add New</a
          >
        </li>
        <li>
          <a
            href="#"
            class="submenu-link"
            (click)="handleSubmenuClick($event, 'deleted-users')"
            >Deleted Users</a
          >
        </li>
      </ul>
    </li>

    <!-- ✅ Members -->
    <li class="menu-item">
      <a href="#" class="menu-link" (click)="toggleSubmenu($event, 1)">
        <span class="menu-icon"><i class="fas fa-id-badge"></i></span>
        <span class="menu-text">Members</span>
        <span class="menu-arrow"
          ><i
            class="fas fa-chevron-right"
            [class.rotated]="activeSubmenu === 1"
          ></i
        ></span>
      </a>
      <ul class="submenu" [class.show]="activeSubmenu === 1">
        <li>
          <a
            href="#"
            class="submenu-link"
            (click)="handleSubmenuClick($event, 'all-members')"
            >All Members</a
          >
        </li>
        <li>
          <a
            href="#"
            class="submenu-link"
            (click)="handleSubmenuClick($event, 'add-member')"
            >Add Member</a
          >
        </li>
      </ul>
    </li>

    <!-- ✅ Agents -->
    <li class="menu-item">
      <a href="#" class="menu-link" (click)="toggleSubmenu($event, 2)">
        <span class="menu-icon"><i class="fas fa-user-secret"></i></span>
        <span class="menu-text">Agents</span>
        <span class="menu-arrow"
          ><i
            class="fas fa-chevron-right"
            [class.rotated]="activeSubmenu === 2"
          ></i
        ></span>
      </a>
      <ul class="submenu" [class.show]="activeSubmenu === 2">
        <li>
          <a
            href="#"
            class="submenu-link"
            (click)="handleSubmenuClick($event, 'all-agents')"
            >All Agents</a
          >
        </li>
        <li>
          <a
            href="#"
            class="submenu-link"
            (click)="handleSubmenuClick($event, 'add-agent')"
            >Add Agent</a
          >
        </li>
      </ul>
    </li>

    <!-- Installment -->
    <li class="menu-item">
      <a href="#" class="menu-link" (click)="toggleSubmenu($event, 3)">
        <span class="menu-icon"><i class="fas fa-credit-card"></i></span>
        <span class="menu-text">Installment</span>
        <span class="menu-arrow"
          ><i
            class="fas fa-chevron-right"
            [class.rotated]="activeSubmenu === 3"
          ></i
        ></span>
      </a>
      <ul class="submenu" [class.show]="activeSubmenu === 3">
        <li><a href="#" class="submenu-link">Payment Plans</a></li>
        <li><a href="#" class="submenu-link">Active Installments</a></li>
        <li><a href="#" class="submenu-link">Payment History</a></li>
        <li><a href="#" class="submenu-link">Overdue Payments</a></li>
      </ul>
    </li>

    <!-- Shareholders -->
    <li class="menu-item">
      <a href="#" class="menu-link" (click)="toggleSubmenu($event, 4)">
        <span class="menu-icon"><i class="fas fa-user-tie"></i></span>
        <span class="menu-text">Shareholders</span>
        <span class="menu-arrow"
          ><i
            class="fas fa-chevron-right"
            [class.rotated]="activeSubmenu === 4"
          ></i
        ></span>
      </a>
      <ul class="submenu" [class.show]="activeSubmenu === 4">
        <li><a href="#" class="submenu-link">All Shareholders</a></li>
        <li><a href="#" class="submenu-link">Share Distribution</a></li>
        <li><a href="#" class="submenu-link">Dividends</a></li>
        <li><a href="#" class="submenu-link">Reports</a></li>
      </ul>
    </li>

    <!-- Settings -->
    <li class="menu-item">
      <a href="#" class="menu-link" (click)="toggleSubmenu($event, 5)">
        <span class="menu-icon"><i class="fas fa-cog"></i></span>
        <span class="menu-text">Settings</span>
        <span class="menu-arrow"
          ><i
            class="fas fa-chevron-right"
            [class.rotated]="activeSubmenu === 5"
          ></i
        ></span>
      </a>
      <ul class="submenu" [class.show]="activeSubmenu === 5">
        <li><a href="#" class="submenu-link">General</a></li>
        <li><a href="#" class="submenu-link">Security</a></li>
        <li><a href="#" class="submenu-link">Notifications</a></li>
      </ul>
    </li>

    <!-- Help & Support -->
    <li class="menu-item">
      <a href="#" class="menu-link">
        <span class="menu-icon"><i class="fas fa-question-circle"></i></span>
        <span class="menu-text">Help & Support</span>
      </a>
    </li>
  </ul>
</nav>
