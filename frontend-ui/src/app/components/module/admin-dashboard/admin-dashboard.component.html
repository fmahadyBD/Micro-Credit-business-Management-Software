<!-- Sidebar -->
<app-side-bar
  [collapsed]="isSidebarCollapsed"
  (submenuSelected)="setView($event)"
>
</app-side-bar>

<!-- Topbar -->
<app-top-bar></app-top-bar>

<!-- Main Content -->
<main class="main-content-wrapper" [class.collapsed]="isSidebarCollapsed">
  <!-- 🏠 Dashboard -->
  <app-admin-main *ngIf="currentView === 'dashboard'"></app-admin-main>

  <!-- 👥 Users -->
  <app-all-users *ngIf="currentView === 'all-users'"></app-all-users>
  <app-add-new-user *ngIf="currentView === 'add-user'"></app-add-new-user>
  <app-deleted-users
    *ngIf="currentView === 'deleted-users'"
  ></app-deleted-users>

  <!-- 👨‍👩‍👧 Members -->
  <app-all-members *ngIf="currentView === 'all-members'"></app-all-members>
  <app-add-new-member *ngIf="currentView === 'add-member'"></app-add-new-member>

  <!-- 🧑‍💼 Agents -->
  <app-all-agents *ngIf="currentView === 'all-agents'"></app-all-agents>
  <app-add-new-agent *ngIf="currentView === 'add-agent'"></app-add-new-agent>

  <!-- User Details & Edit -->
  <app-user-details
    *ngIf="currentView === 'user-details' && selectedUserId !== null"
    [userId]="selectedUserId!"
  ></app-user-details>

  <app-edit-user
    *ngIf="currentView === 'edit-user' && selectedUserId !== null"
    [userId]="selectedUserId!"
  ></app-edit-user>

  <!-- Member Details & Edit -->
  <app-member-details
    *ngIf="currentView === 'member-details' && selectedMemberId !== null"
    [memberId]="selectedMemberId!"
  ></app-member-details>

  <app-edit-member
    *ngIf="currentView === 'edit-member' && selectedMemberId !== null"
    [memberId]="selectedMemberId!"
  ></app-edit-member>

  <!-- Agent Details & Edit (remove input bindings) -->
  <!-- <app-agent-details
    *ngIf="currentView === 'agent-details'"
  ></app-agent-details> -->

  <!-- Agent Details & Edit -->
  <app-agent-details
    *ngIf="currentView === 'agent-details' && selectedAgentId !== null"
    [agentId]="selectedAgentId!"
  ></app-agent-details>

  <app-update-agent
    *ngIf="currentView === 'edit-agent' && selectedAgentId !== null"
    [agentId]="selectedAgentId!"
  ></app-update-agent>

  <!-- 🎁 Products -->
  <app-all-products *ngIf="currentView === 'all-products'"></app-all-products>
  <app-add-product *ngIf="currentView === 'add-product'"></app-add-product>

  <app-product-details
    *ngIf="currentView === 'product-details' && selectedProductId !== null"
    [productId]="selectedProductId!"
  ></app-product-details>

  <app-edit-product
    *ngIf="currentView === 'edit-product' && selectedProductId !== null"
    [productId]="selectedProductId!"
  ></app-edit-product>
</main>
